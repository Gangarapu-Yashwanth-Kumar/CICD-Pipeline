# CICD Pipeline for Machine Learning Model Training üöÄ

## Overview üåü

This repository demonstrates a robust and automated Continuous Integration/Continuous Delivery (CI/CD) pipeline designed for machine learning model training and evaluation. By leveraging GitHub Actions and Continuous Machine Learning (CML), it streamlines the development workflow, ensuring that every code push triggers a complete model training and assessment process. The pipeline focuses on the classic Iris dataset, showcasing how to automatically train, evaluate, visualize, and report on model performance directly within your GitHub repository. This setup significantly enhances transparency, reproducibility, and collaboration in MLOps.

## Key Highlights ‚ú®

* **Automated ML Workflow**: Automatically trains and evaluates machine learning models upon every code push, ensuring continuous integration.
* **Comprehensive Model Evaluation**: Generates detailed performance metrics (F1-score, precision, recall, accuracy) for both Logistic Regression and Random Forest models.
* **Insightful Visualizations**: Produces and embeds a Confusion Matrix and Feature Importance plots directly into GitHub comments for quick analysis.
* **Seamless CML Integration**: Leverages Continuous Machine Learning (CML) to post model reports on commits/pull requests, enhancing collaboration and transparency.

## Structure of Model/Files üìÅ

This repository is organized with the following key files:

* **`.github/workflows/test.yaml`**: This is the GitHub Actions workflow file. [cite_start]It defines the CI/CD pipeline, specifying the steps to be executed on a `push` event, including setting up CML, checking out the code, installing dependencies, training the model, generating reports, and posting comments. [cite: 1]
* **`train_model.py`**: This Python script is the core of the model training process. It handles data loading, feature engineering, training of Logistic Regression and Random Forest models, calculating evaluation metrics, and generating `ConfusionMatrix.png` and `FeatureImportance.png` plots, as well as `scores.txt`.
* **`iris.csv`**: This file contains the Iris dataset, which is used for training and evaluating the machine learning models. [cite_start]It includes sepal length, sepal width, petal length, petal width, and target (species). [cite: 1]
* **`requirements.txt`**: Lists all the Python dependencies required to run `train_model.py`, such as `numpy`, `pandas`, `scikit-learn`, `matplotlib`, and `seaborn`.
* **`scores.txt`**: Generated by `train_model.py`, this file contains the performance scores for both the Random Forest and Logistic Regression models, including train/test accuracy, F1 score, recall, and precision.
* **`ConfusionMatrix.png`**: A visualization of the confusion matrix for the Logistic Regression model, generated by `train_model.py`.
* **`FeatureImportance.png`**: A visualization of the feature importances from the Random Forest model, generated by `train_model.py`.

## Getting Started (Step-by-Step) üèÅ

To get this CI/CD pipeline up and running in your own GitHub repository:

1.  **Create a New GitHub Repository**: Create a new public or private repository on GitHub (e.g., named `CICD-Pipeline`).
2.  **Clone the Repository**: Clone your newly created repository to your local machine:
    ```bash
    git clone [https://github.com/YourUsername/CICD-Pipeline.git](https://github.com/YourUsername/CICD-Pipeline.git)
    cd CICD-Pipeline
    ```
3.  **Add Project Files**: Copy the following files into your cloned repository:
    * `iris.csv`
    * `requirements.txt`
    * `train_model.py`
4.  **Create GitHub Workflows Directory**: Create the necessary directory structure for GitHub Actions:
    ```bash
    mkdir -p .github/workflows
    ```
5.  **Add the Workflow File**: Place the `test.yaml` file inside the `.github/workflows/` directory:
    ```yaml
    # (Content of test.yaml as provided previously)
    name: Model Training CICD
    permissions:
      id-token: write
      contents: write 
      
    on:
      - push
    
    jobs:
      run:
        runs-on: 
          - ubuntu-latest
        
        steps:
          - uses: iterative/setup-cml@v1
          - uses: actions/checkout@v3
          - name: Train model
            env:
              REPO_TOKEN: ${{ secrets.GITHUB_TOKEN }}
            run: |
              pip install -r requirements.txt
              python train_model.py
    
              echo "RF and LR Model Score" >report.md
              cat scores.txt
              
              echo "Confusion Matrix & Feature Importance">report1.md
              echo '|[](./ConfusionMatrix.png "ConfusionMatrix")' >> report1.md
              echo '|[](./FeatureImportance.png "FeatureImportance")' >> report1.md
         
              cat report.md report1.md >> combined_file.md
              cml comment create combined_file.md
    ```
6.  **Commit and Push**: Stage, commit, and push all the files to your GitHub repository:
    ```bash
    git add .
    git commit -m "Initial commit: Set up ML CI/CD pipeline"
    git push origin main
    ```
7.  **Monitor GitHub Actions**: Once pushed, go to your GitHub repository and click on the "Actions" tab. You should see a workflow run in progress or completed, named "Model Training CICD".
8.  **Check CML Comment**: Navigate to the "Commits" tab in your repository and click on the latest commit. You should find a comment from GitHub Actions (or CML) containing the model scores and embedded plots.

## Responsibilities üõ†Ô∏è

* **Maintaining `train_model.py`**: Ensuring the model training logic, feature engineering, and evaluation metrics are up-to-date and accurate.
* **Updating `requirements.txt`**: Keeping all necessary Python dependencies specified to avoid build failures.
* **Monitoring `test.yaml`**: Regularly checking the GitHub Actions workflow for successful runs and addressing any failures.
* **Analyzing CML Reports**: Reviewing the automated comments on commits/PRs to understand model performance changes and make informed decisions.
* **Data Integrity**: Ensuring the `iris.csv` or any updated dataset remains clean and correctly formatted.

## Learning Outcomes üß†

By exploring and working with this repository, you will learn:

* How to set up a basic CI/CD pipeline for machine learning projects using GitHub Actions.
* The integration of CML for automated model reporting and visualization in development workflows.
* Practical application of Logistic Regression and Random Forest models for classification tasks.
* Techniques for feature engineering and their impact on model performance.
* Interpretation of common machine learning evaluation metrics (F1-score, precision, recall, accuracy) and visualizations (Confusion Matrix, Feature Importance).

## Insights Gained üí°

* Automating model training and evaluation significantly speeds up the iteration cycle in ML development.
* Visual reports directly within GitHub provide immediate feedback on model changes, fostering collaborative efforts.
* Feature engineering can play a crucial role in improving model performance, as demonstrated by the added ratio features.
* The choice of model (e.g., Logistic Regression vs. Random Forest) impacts not only performance but also interpretability (e.g., feature importance from RF).
* CI/CD for ML (MLOps) ensures consistency, reproducibility, and reduces manual errors in deployment.

## Thank You! üôè

Thank you for exploring this CI/CD pipeline for machine learning. Feel free to contribute, open issues, or suggest improvements! Your feedback is highly appreciated.
